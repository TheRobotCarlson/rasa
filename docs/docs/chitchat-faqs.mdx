---
id: chitchat-faqs
sidebar_label: Chitchat and FAQs
title: Chitchat and FAQs
---

FAQs and chitchat both involve non-contextual questions with single-message answers. 
For example, in the following conversation, every question's answer is independent of context and could
just as easily be answered on its own:

```yaml
user: What is your name?
bot: My name is Sara!
user: What language do you speak?
bot: I only speak English.
user: Is Rasa open source?
bot: Yes, Rasa is open source!
```

Whether you are building a FAQ bot or a contextual assistant, you usually
want to handle FAQ and chitchat without regard for context. This page is a guide on the concepts
and training data you need to handle FAQ and chitchat in your assistant.

## Concepts

To handle non-contextual questions, you need 

### `RulePolicy`

For FAQ and chitchat, you always want the same response (or action) for the same question. 
[Rules](rules.mdx) allow you to do exactly that.
To use rules, the you need to add the [`RulePolicy`](#rule-policy) to your policies in your configuration file:

```yaml
policies:
- name: RulePolicy
```

You can have other policies as well, but the `RulePolicy` is the only one necessary for handling rules.


### Retrieval Actions and `ResponseSelector`

With FAQ and chitchat, you often have multiple intents that should be handled
in the same way, as far as dialogue goes.
For example, let's say you have 20 different FAQs. For each FAQ intent,
all you want to do is **retrieve** the correct response for that FAQ. You
could write 20 rules, one for each FAQ, or you could use [retrieval
actions](../retrieval-actions.mdx).

Retrieval actions allow you to group together intents that can be handled the
same way in a dialogue under a single [retrieval intent](../glossary.mdx#retrieval-intent)
like `faq` or `chitchat`.
A retrieval action uses the output of the
[`ResponseSelector`](./components/selectors.mdx#response-selector) to return
the correct response. 

To use retrieval actions, include the `ResponseSelector` in your NLU pipeline.
The `ResponseSelector` requires a featurizer and intent classifier to work, so
it should come after these components in your pipeline, for example:

```yaml
pipeline:
  - name: WhitespaceTokenizer
  - name: RegexFeaturizer
  - name: LexicalSyntacticFeaturizer
  - name: CountVectorsFeaturizer
  - name: DIETClassifier
  - name: ResponseSelector
```

By default, the `ResponseSelector` will build a single retrieval model for all retrieval intents.
If you want to retrieve responses for FAQ and chitchat seperately, you can use multiple `ResponseSelector` components 
and specify the `retrieval_intent` key, for example:

```yaml
pipeline:
# Other components
- name: ResponseSelector
  retrieval_intent: faq
- name: ResponseSelector
  retrieval_intent: chitchat
```


## Training Data

To train a Rasa model using the `RulePolicy` and the `ResponseSelector`, you'll need to provide
rules, NLU training examples, and responses.

### Rules

By using retrieval actions, you only need to write one rule for each retrieval intent. All intents
grouped under that retrieval intent will then be handled the same way.
The retrieval action starts with `respond_` and ends with the retrieval intent's name. 
For example, rules for responding to FAQs and chitchat would look like this:

```yaml
rules:
  - rule: respond to FAQs
    steps:
    - intent: faq
    - action: respond_faq
  - rule: respond to chitchat
    steps:
    - intent: chitchat
    - action: respond_chitchat
```

The actions `respond_faq` and `respond_chitchat` will use the `ResponseSelector`'s prediction to return the actual response message.

### NLU Training Data

NLU training examples for the `ResponseSelector` look the same as
regular training examples, except that their names must refer to the retrieval
intent they are grouped under. For example:

```yaml
nlu:
  - intent: faq/languages
    examples: |
    - What languages do you speak?
    - do you only know English?
  - intent: faq/cost
    examples: |
    - how much does Rasa cost?
    - Is Rasa free?

  - intent: chitchat/name
    examles: |
    - What's your name?
    - do you have a name?
  - intent: chitchat/weather
    examles: |
    - What's the weather like?
    - Is it sunny today?
```

### Responses

Responses for the `ResponseSelector` follow the same naming convention as
retrieval intents. Besides this, they can have all the characteristics of 
normal bot [response](domain.mdx#responses). For the FAQ and chitchat intents
listed above, our responses could look like:

```yaml
responses:
  faq/languages: 
  - text: |
    I only speak English for now.
  faq/cost:
  - text: |
    Rasa Open Source is free to use.
  chitchat/name:
  - text: |
    My name is Sara.
  chitchat/weather:
  - text: |
    It's always sunny where I live!
```

## Putting it all together

Once you have your config, pipeline and training data set up, you can train a model and try it out! Even if you 
have other skills in your bot besides chitchat and FAQs, your bot should be able to respond consistently 
and correctly to FAQs and chitchat in any context. 